(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ScriptsController});var _view__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);class ScriptsController extends _view__WEBPACK_IMPORTED_MODULE_0__.a{constructor(e,t,s,i){super(t,i),this.currentlySelectedItem,this.plxButton=s,this.validator=e,this.paramBuild,this.inputCount=[]}init(){super.setInitialStateObject(),super.initializeView(),this.scriptTitleParametersToggle()}scriptTitleParametersToggle(){super.setMyStateToInitialWorkingState(),this.scriptsListContainer.addEventListener("click",this.onScriptTitleClick.bind(this),!1),this.close.addEventListener("click",this.onScriptTitleClick.bind(this),!1)}onScriptTitleClick(e){if(this.currentlySelectedItem,this.currentlySelectedItem=e.target,this.currentlySelectedItem.classList.contains("listed-item")){super.insertParametersContainer();let e=parseInt(this.currentlySelectedItem.dataset.index);super.getNewWorkingState(e,this.currentlySelectedItem),this.checkShowOn(this.secondaryParent)}else"close"==this.currentlySelectedItem.id&&(this.visualManager("all"),super.setMyStateToInitialWorkingState())}removeTitleListener(){this.scriptsListContainer.removeEventListener("click",this.onScriptTitleClick.bind(this),!1)}removePlxClickListener(){this.generate.removeEventListener("click",this.onPlxClick.bind(this),!1)}checkShowOn(e){e.classList.contains("show")?(this.removeTitleListener(),this.removePlxClickListener(),this.visualManager("remove"),super.removeActive(super.getStateCurrentlySelectedScript()),super.setMyStateToInitialWorkingState(),super.checkForScriptsContainer(),this.init()):(this.visualManager("insert"),this.innerComponentIsNowListening())}visualManager(e){"remove"===e?(this.secondaryParentContainsShowRemove("children"),super.checkActiveOn(super.getStateCurrentlySelectedScript())):"all"===e?this.secondaryParentContainsShowRemove("all"):"insert"==e&&(super.insertParametersContainer(),super.renderParams(super.getParameterNames(super.getStateCurrentlySelectedScriptIndex())),super.matchParamsTo(this.placeholders),super.checkActiveOn(super.getStateCurrentlySelectedScript()))}secondaryParentContainsShowRemove(e){super.resetContainerFor(e)}innerComponentIsNowListening(){let e=document.getElementsByTagName("input");if(console.log(e),e)for(let t=0;t<e.length;t++){let s=e[t];s&&s.addEventListener("input",this.onParameterInput.bind(this),!1)}this.generate.addEventListener("click",this.onPlxClick.bind(this),!1)}onParameterInput(e){e.preventDefault();let t=e.target;this.inputDetectedOn(t)}onPlxClick(e){e.preventDefault(),this.removePlxClickListener(),this.inputCount=[];let t=document.getElementsByTagName("input");if(console.log(t),t){let e=[];for(let s=0;s<t.length;s++){let i=t[s];this.inputDetectedOn(i),console.log(i),i.value.length>0&&(e.push(i),this.inputDetectedOn(i),console.log(i))}e.length>=4?this.buildClick():(console.log("We only have these entries: ",e),alert("Please ensure all fields have valid data!"))}}inputDetectedOn(e){let t=e;t.classList.contains("input")&&t.value&&this.validateInputOn(t)}validateInputOn(target){let inputField=target,id=inputField.id;console.log("Input to filter :: "+id);let filteredResult=eval("this.validator.is_"+id)(inputField);console.log("Does input match filter? :: ",filteredResult.matchesFilter),this.validateOutputOn(filteredResult)}validateOutputOn(e){let t=e,s=t.input,i=/[^\S+]/gi;console.log(t),s.value&&!1===i.test(s.value)&&(console.log("Whitespace in input? :: ",i.test(s.value)),super.setParameterValue(s.id,s.value),!0===t.matchesFilter?(Object.defineProperty(t,"valid",{value:!0,writable:!0}),this.inputCount.push(t),this.final(t)):(Object.defineProperty(t,"valid",{value:!1,writable:!0}),this.inputCount.push(t),this.final(t)))}final(e){let t=e,s=t.input,i=t.valid;return t&&1==i?(console.log("This",`${s.id}`,"meets the minimum requirements"),super.isValid(s,i),!0):!(!t||0!=i)&&(super.isInvalid(s,i),console.log("This does not meet the minimum requirements for a",`${s.id}`),!1)}buildClick(){this.generateScriptId(),this.paramBuild="",super.setScriptParamsTo(this.paramBuild);const e=Object.entries(super.getScriptParameterValues());console.log(e),e.length>=1&&(e.forEach(([t,s],i)=>{this.paramBuild+=`${t}`+":"+`${s}`,i!==e.length-1&&(this.paramBuild+=",")}),console.log("String representation of parameter inputs :: ",this.paramBuild,"\n"),this.setScriptLinkTo(this.paramBuild)),this.clickPlxUrl()}generateScriptId(){const e=`${super.getCurrentlySelectedScript().id}?p=`;super.setScriptIdTo(e)}setScriptLinkTo(e){super.setScriptParamsTo(e);let t=super.getBasePlxUrl();t+=super.getScriptId(),t+=super.getParameterInputs(),super.setFullUrlTo(t)}clickPlxUrl(){let e=super.getFullUrl();console.log(e,"\n"),console.log("Object representation of current state :: ",this.myState),function(e){window.open(e,"_blank").focus()}(e)}}},function(e,t,s){"use strict";class i{constructor(){this.initialState={},this.workingState=this.initialState,this.myState={}}setInitialStateObject(){this.initialState={statebasePlxUrl:"http://plx/scripts2/",id:"",params:"",parameters:{},url:null,currentlySelectedScript:"",currentlySelectedScriptIndex:""},this.setInitialState(this.initialState)}setInitialState(e){this.workingState=e}setMyStateToInitialWorkingState(){this.setInitialStateObject(),this.myState=this.workingState}setNewState(e,t){this.workingState={};let s={basePlxUrl:"http://plx/scripts2/",id:"",params:"",parameters:{},url:null,currentlySelectedScript:e,currentlySelectedScriptIndex:t};this.workingState=s,this.setMyStateToWorkingState(this.workingState)}setMyStateToWorkingState(e){this.myState=e}setScriptIdTo(e){this.myState.id=e}setScriptParamsTo(e){this.myState.params=e}setFullUrlTo(e){this.myState.url=e}setParameterValue(e,t){this.myState.parameters[e]=t}getScriptsParentHTML(){return this.scriptsParentHtml="<div id='scriptList' rel='plxScriptWindow' class=''>\n          <h2 class='card-header'>Scripts</h2>\n          <ul id='scriptButtonContainer' class='buttonContainer'>\n              <button type='button' class='exitbtn' id='close' title='Close this PLX Window.'></button>\n              <button type='button' id='generate' class='exitbtn' title='Generate URL for PLX with case info.'></button>\n          </ul>\n          <ul class='card-inner' id='plx-InnerCard'></ul>\n        </div>",this.scriptsParentHtml}getParametersParentHTML(){return this.parametersParentHTML="<div id='card-inner' class='card-inner'>\n          <h2 class='card-header'>Parameters</h2>\n          <div id='parameters'><form></form></div>\n      </div>",this.parametersParentHTML}getParameterHTML(e){let t;return t="date_from_YYYY_MM_DD"==e||"date_to_YYYY_MM_DD"==e?"date_from_YYYY_MM_DD"==e?`<div class='innerParam'>\n              <p class='parameter'>\n                  <label for='${e}'>Date From</label>\n              </p>\n              <p>\n                <input type='text' size='20' maxlength='10' class='input' id='${e}' placeholder=''required>\n              </p>\n          </div>`:`<div class='innerParam'>\n              <p class='parameter'>\n                  <label for='${e}'>Date To</label>\n              </p>\n              <p>\n                <input type='text' size='20' maxlength='10' class='input' id='${e}' placeholder='' required>\n              </p>\n          </div>`:"project_number"==e?`<div class='innerParam'>\n              <p class='parameter'>\n                  <label for='${e}'>Project</label>\n              </p>\n              <p>\n                <input type='text' name='project' size='20' class='input' id='${e}' placeholder='' autofocus required>\n              </p>\n          </div>`:`<div class='innerParam'>\n              <p class='parameter'>\n                  <label for='${e}'>ClientID (if applicable)</label>\n              </p>\n              <p>\n                <input type='text' name='clientID' size='20' class='input' id='${e}' placeholder='' required>\n              </p>\n          </div>`}getScripts(){return this.scripts=[{title:"Daily requests by API key & Channel",id:"script_5b._4e734f_0000_2d6d_af2d_94eb2c05a52e",parameters:{project_number:"",client_id:"",date_from_YYYY_MM_DD:"",date_to_YYYY_MM_DD:""}},{title:"Total URL STATS(redacted ) by URL, Domain, Project & Days Used",id:"script_5d._07f69f_0000_21a9_b028_f403043e7540",parameters:{project_number:"",client_id:"",date_from_YYYY_MM_DD:"",date_to_YYYY_MM_DD:""}},{title:"GeoStats Domain & Web-services w/ IP obfuscation",id:"script_5d._5ef884_0000_2398_b5bf_089e082dbdd4",parameters:{project_number:"",client_id:"",date_from_YYYY_MM_DD:"",date_to_YYYY_MM_DD:""}},{title:"Historic Maps APIs: Daily client and web service requests",id:"script_5d._7814be_0000_2f72_80a4_001a11405cb4",parameters:{project_number:"",client_id:"",date_from_YYYY_MM_DD:"",date_to_YYYY_MM_DD:""}}],this.scripts}getScript(e){return this.scripts[e]}getCurrentlySelectedScript(){return this.scripts[this.getCurrentlySelectedScriptIndex()]}getCurrentlySelectedScriptIndex(){return this.myState.currentlySelectedScriptIndex}getStateCurrentlySelectedScript(){return this.myState.currentlySelectedScript}getStateCurrentlySelectedScriptIndex(){return this.myState.currentlySelectedScriptIndex}getNewWorkingState(e,t){return this.setNewState(t,e)}getParameterNames(e){return Object.keys(this.scripts[e].parameters)}getParameterInputs(){return this.myState.params}getBasePlxUrl(){return this.myState.basePlxUrl}getScriptId(){return this.myState.id}getScriptParameterValues(){return this.myState.parameters}getFullUrl(){return this.myState.url}}s.d(t,"a",function(){return r});class r extends i{constructor(e,t){super(),this.placeholders=e,this.parentPane=t,this.emptyString=""}initializeView(){this.checkForScriptsContainer()}checkForScriptsContainer(){this.primaryParent?this.resetContainerFor("all"):(this.primaryParent=document.createElement("div"),this.primaryParent.id="scriptsPrimaryContainer",this.primaryParent.classList.add("card"),this.primaryParentinnerHTML=(()=>super.getScriptsParentHTML())(),this.primaryParent.innerHTML=this.primaryParentinnerHTML,this.parentPane.insertBefore(this.primaryParent,this.parentPane.childNodes[0]),this.grabInnerComponent())}grabInnerComponent(){this.scriptsListContainer=document.getElementById("plx-InnerCard"),this.scriptButtonContainer=document.getElementById("scriptButtonContainer"),this.close=document.getElementById("close"),this.close.textContent="Close",this.generate=document.getElementById("generate"),this.generate.textContent="Go to PLX",this.insert(super.getScripts())}insert(e){console.log("Plx scripts ::",e),e.forEach((e,t)=>{const s=document.createElement("li");s.textContent=e.title,s.classList.add("listed-item"),s.dataset.index=t,this.scriptsListContainer.insertBefore(s,this.scriptsListContainer.childNodes[0])}),this.toggleScriptsContainer()}toggleScriptsContainer(){this.primaryParent.classList.add("show")}resetContainerFor(e){"all"==e?(this.resetChildren("children"),this.primaryParent&&this.parentPane.removeChild(this.primaryParent),this.primaryParent=null):"children"==e?this.resetChildren("children"):"link"==e&&this.resetChildren("link")}resetChildren(e){"children"==e&&(super.getCurrentlySelectedScript===Element&&this.removeActive(super.getCurrentlySelectedScript),this.params&&this.parametersInnerContainer.removeChild(this.params),this.secondaryParent&&this.scriptsListContainer.removeChild(this.secondaryParent)),this.params=null,this.secondaryParent=null}insertParametersContainer(){this.secondaryParent||(this.secondaryParent=document.createElement("div"),this.secondaryParent.classList.add("card"),this.secondaryParent.id="secondaryContainer",this.secondaryParentinnerHTML=(()=>super.getParametersParentHTML())(),this.secondaryParent.innerHTML=this.secondaryParentinnerHTML,this.scriptsListContainer.insertAdjacentElement("afterbegin",this.secondaryParent),this.grabSecondaryComponent())}grabSecondaryComponent(){this.cardInner=document.getElementById("card-inner"),this.parametersInnerContainer=document.getElementById("parameters")}toggleParamsContainer(){this.secondaryParent.classList.add("show")}checkActiveOn(e){const t=e;t&&t.classList.contains("listed-item")&&(t.classList.contains("active")?this.removeActive(t):(this.resetListItems(),t.classList.add("active")))}resetListItems(){const e=document.getElementsByClassName("listed-item");for(let t=0;t<e.length;t++){const s=e[t];s.classList.contains("active")&&this.removeActive(s)}}removeActive(e){e.classList.remove("active")}renderParams(e){this.params||(this.params=document.createElement("div"),this.params.id="params"),this.parametersHtml="",e.forEach(e=>{this.parametersHtml+=super.getParameterHTML(e)}),this.params.innerHTML=this.parametersHtml,this.parametersInnerContainer.insertBefore(this.params,this.parametersInnerContainer.childNodes[0]),this.secondaryParent.classList.toggle("show")}matchParamsTo(e){let t;Object.entries(e.parameters).forEach(([e,s],i)=>{(t=document.getElementById(`${e}`))&&t.setAttribute("placeholder",`${s}`)})}isValid(e,t){let s=e;console.log("Is ",s.id,"valid? ",t," ===",s.value),s&&s.classList.contains("valid")?console.log("Input is already marked as valid..."):s&&s.classList.contains("invalid")?(console.log("Input is now valid!"),s.classList.toggle("invalid"),s.classList.toggle("valid")):s&&!s.classList.toggle("valid")&&(console.log("Input has been initially marked as valid, great!"),s.classList.toggle("valid"))}isInvalid(e,t){let s=e;console.log("Is ",s.id,"valid? ",t," ===",s.value),s&&s.classList.contains("invalid")?console.log("Input is already marked as invalid..."):s&&s.classList.contains("valid")?(console.log("Input is no longer valid!"),s.classList.toggle("valid"),s.classList.toggle("invalid")):s&&!s.classList.toggle("invalid")&&(console.log("Input has been initially marked as invalid..."),s.classList.toggle("invalid"))}}},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);s(2),s(3);class i{constructor(){}test(e,t,s){if(e.value||e.value&&e.value.search(filterRegEx)>-1){return e.value=e.value.replace(t,""),{matchesFilter:s.test(e.value),input:e}}}}class r extends i{constructor(){super()}is_client_id(e){console.log(e,"Input value:: ",e.value);let t=e;return{result:super.test(t,/[^a-z-0-9]{1,25}/gi,/[a-z]{3}-[a-z0-9]{2,25}/gi)}.result}is_case_number(e){console.log(e,"Input value:: ",e.value);let t=e;return{result:super.test(t,/[^0-9]{1,8}/g,/[0-9]{6,8}/g)}.result}is_project_number(e){console.log(e,"Input value:: ",e.value);let t=e;return{result:super.test(t,/[^0-9]{1,12}/g,/[0-9]{8,12}/g)}.result}is_date_from_YYYY_MM_DD(e){console.log(e,"Input value:: ",e.value);let t=e;return{result:super.test(t,/[^-0-9]{1,10}/g,/[0-9]{4}-[0-9]{2}-[0-9]{2}/g)}.result}is_date_to_YYYY_MM_DD(e){console.log(e,"Input value:: ",e.value);let t=e;return{result:super.test(t,/[^-0-9]{1,10}/g,/[0-9]{4}-[0-9]{2}-[0-9]{2}/g)}.result}}class n{constructor(){this.placeholders=[{parameters:{case_number:"Unify case number",ip_range:"10.0.0.0/32 1234:5678::/48",query_type:"Geocoding_API_query/Place_API_details_query",api_endpoint_type:"Endpoint_Javascript_API/_Web_Service",table_suffix:"20180503, last3days, latest, all",project_number:"1234567891012",client_id:"gme-XXXXX",date_from_YYYY_MM_DD:"YYYY-MM-DD",date_to_YYYY_MM_DD:"YYYY-MM-DD",api_key:"AIzaSy***********",table_column:'QPS column in logs.web_service_qps.all- "places"',domain:"domain.com",url:"domain.com/path"}}],this.views={}}resetChildViews(){this.views.non_iretableViews=null,this.views.iterable_views=[]}getChildViews(){return this.views.iterable_views}setNewChildView(e){this.views.iterable_views.push(e)}getClassList(){return this.listOfElementsByClass[0]}getClassListValues(){return Object.valueOf(this.listOfElementsByClass[0].classArrays)}getClassListKeys(){return Object.keys(this.listOfElementsByClass[0].classArrays)}getFieldSamples(){return this.placeholders}getParametersList(){return this.placeholders[0]}getParameterValues(){return Object.valueOf(this.placeholders[0].parameters)}getParameterKeys(){return Object.keys(this.placeholders[0].parameters)}}class a extends n{constructor(){super(),this.head=document.getElementsByTagName("head")[0],this.viewsButtons=document.getElementsByClassName("dropbtn"),this.mainMenu=document.getElementById("main_menu"),this.plxButton=document.getElementById("plx_button"),this.plxButton.textContent="PLX",this.viewsPane=document.createElement("section"),this.viewsPane.id="views_pane",this.mainMenu.insertAdjacentElement("afterend",this.viewsPane)}checkAttachedPanes(){if(this.views.iterable_views!==[])this.viewsListHasChildNodes();else{super.resetChildViews();let e=this.viewsPane.childNodes;this.views.non_iterableViews=e,this.checkAndListChildNodes(this.views.non_iterableViews)}}viewsListHasChildNodes(){super.resetChildViews();let e=this.viewsPane.childNodes;this.checkAndListChildNodes(e),this.checkEachViewIndex()}checkAndListChildNodes(e){for(let t=0;t<e.length;t++){let s={view:e[t],count:t};super.setNewChildView(s)}}checkEachViewIndex(){this.views.iterable_views.length>0&&(console.table("Child componenets of the SPA :: ",this.views.iterable_views),this.views.iterable_views.forEach(this.setOrder))}setOrder(e,t,s){let i=e;i.view.style.order=`${t}`,i.count=[t]}}var l=s(0);class o extends a{constructor(e){super(),this.util=new e,this.actionButtons=[],this.onLoadCheckForActionButtons()}onLoadCheckForActionButtons(){for(let e=0;e<this.viewsButtons.length;e++){let t=this.viewsButtons[e];this.actionButtons.push(t)}this.loadControllers()}loadControllers(){this.instantiateControllersWith(this.util,super.getParametersList(),this.mapsButton,this.plxButton,this.staticMapButton,this.head,this.cl_apiKey,this.viewsPane),this.controllerIsNowlistening()}instantiateControllersWith(e,t,s,i,r,n,a,o){this.scriptsController||(this.scriptsController=new l.a(e,t,i,o))}controllerIsNowlistening(){this.actionButtons.forEach(e=>{"plx_button"==e.id&&e.focus(),e.addEventListener("click",this.oneButtonWasClicked.bind(this),!0)})}oneButtonWasClicked(e){e.preventDefault(),"plx_button"==e.target.id?this.plxShouldLoad():"static_map_button"==e.target.id&&this.staticMapShouldLoad(),super.checkAttachedPanes(),console.log("SPA App-level controller :: ",this)}plxShouldLoad(){this.scriptsController.init()}}t.default=void new o(class extends r{constructor(){super()}clearConsole(){console.clear()}log(e){console.log(e)}})}],[[4,1]]]);